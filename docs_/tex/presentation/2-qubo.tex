\documentclass[brazil, MathSerif, aspectratio = 169]{beamer}


\usetheme{OsloMet}
\usepackage{homework}
\usepackage{style}
\usepackage{bm}

\author[Pedro]
{Pedro Maciel Xavier}
\title{II - QUBO}
\subtitle{\small Programação não-linear \textbullet{} Otimização Inteira}

\begin{document}
% Use
%
%     \begin{frame}[allowframebreaks]
%
% if the TOC does not fit one frame.
\begin{frame}%%[allowframebreaks]%%
    {Sumário}
    \tableofcontents
\end{frame}

%% Disable the logo in the lower right corner:
\hidelogo

\section{Tópicos Anteriores}
\begin{frame}{Tópicos Anteriores}

    Compreender melhor:
    \begin{enumerate}%%[<+-|alert@+>]
        \item O princípio da dualidade (e suas demonstrações).

        \item A relação entre o lagrangeano de um sistema e seu hamiltoniano.
        
        \item Modelagem QUBO
    \end{enumerate}
\end{frame}

\section{\emph{Ising Model}}

\begin{frame}{\emph{Ising Model}}
    \begin{definition}[\emph{Ising Model}]
        O modelo de Ising descreve a energia do sistema através da função hamiltoniana $\mathbb{H}$ para uma determinada configuração $\pmb{\sigma}$.
        \begin{align*}
            \mathbb{H}(\pmb{\sigma}) = - \sum_{i} \vet{h}_{i} \cdot \pmb{\sigma}_i - \sum_{i < j} \vet{J}_{i, j} \cdot \pmb{\sigma}_i\,\pmb{\sigma}_j
        \end{align*}
    \end{definition}  
\end{frame}

\section{\emph{Quadratic Unconstrained Binary Optimization}}

\subsection{Definição e características}

\begin{frame}{QUBO}
    \begin{definition}[\emph{Quadratic Unconstrained Binary Optimization}]
        Um problema de otimização é assim denominado se pode ser escrito na forma 
        \begin{align*}
            \text{minimizar } &f(\vet{x})\\
            \text{sujeito a } &\vet{x} \in \set{0, 1}^{n}
        \end{align*}
        onde $f(\vet{x}) = \vet{x}\T \vet{Q}\, \vet{x}$ para $\vet{Q} \in \R^{n \times n}$. Mais especificamente, $\vet{Q}$ é uma matriz simétrica ou triangular superior.
    \end{definition}    
\end{frame}

\begin{frame}{QUBO}
    \begin{observation}
        É muito importante, para a formulação, considerar a idempotência das variáveis binárias. Isto é, se $x \in \set{0, 1}$ então $x^2 = x$. Indutivamente, $x^n = x, n > 0$. Isso faz com que a diagonal principal da matriz $\vet{Q}$ represente os termos lineares.\par
        ~\\
        Deste fato vem também uma maneira de reduzir o grau das conexões. Como vimos anteriormente, qualquer termo de grau elevado mas com apenas um variável pode ser reduzido ao caso linear. De maneira análoga, termos de qualquer grau em duas variáveis pode ser trazido ao caso quadrático.\par
    \end{observation}
\end{frame}
%% ---------------------------------------------------------------------------

\subsection{Resolvendo}

\begin{frame}{Annealing}
    O \emph{Annealing} é um dos processos mais populares para solucionar o \emph{QUBO}. Dentre os principais métodos desta classe estão:
    \begin{itemize}%[<+-|structure@+>]
        \item \emph{Simulated Annealing}
        \item \emph{Quantum Annealing} (\emph{D-Wave})
        \item \emph{Digital Annealing} (\emph{Fujitsu})
    \end{itemize}
    \pause
    De um modo geral, é difícil encontrar soluções de qualidade em computadores convencionais. É um problema NP-Difícil.
\end{frame}

%% Enable the logo in the lower right corner:
\section{Satyrus}

\begin{frame}{Satyrus}

    No contexto do Satyrus, temos uma equação de energia a minimizar dada por
        \begin{align*}
            \mathbb{E} &= \mathbb{E}_\text{opt} + \mathbb{E}_\text{int}\\
                       &= \sum_{i} \mathcal{H} \left( \varphi_i \right) %%
                       + \sum_j \pmb{\lambda}_j \mathcal{H} \left( \neg \varphi_j \right)
        \end{align*}
    onde $\lambda_j$ é a penalidade associada à $j$-ésima restrição de integridade e $\mathcal{H} \left(\,\cdot\,\right)$ é o mapeamento. Portanto, é possível escrever um problema modelado pelo Satyrus como
        \begin{align*}
            \text{minimizar } &f(\mathbf{x}) + \pmb{\lambda} \cdot g(\mathbf{x})\\
            \text{sujeito a } &\mathbf{x} \in \{0, 1\}^{n}
        \end{align*}
\end{frame}

\begin{frame}{Satyrus}%%
    Resta saber se é possível escrever
        $f(\vet{x}) + \pmb{\lambda} \cdot g(\vet{x}) = \vet{x}\T \vet{Q}\, \vet{x}$.
    Como, por construção, tanto $f(\vet{x})$ quanto $g(\vet{x})$ são polinômios nas componentes de $\vet{x}$, isso pode ser feito ao aplicar uma redução dos termos com três ou mais variáveis.
    
    
\end{frame}

\section{Redução do grau}
\SectionPage

\subsection{Redução por seleção mínima}
\begin{frame}{Redução por seleção mínima\cite{dwave:2016}}

    \begin{align*}
        x y z &= \max_{w} \set{w (x + y + z - 2)}
    \end{align*}

    Seja $a \in \R$.

    \begin{align*}
        a x y z &= \left\{ \begin{array}{@{}c l@{}}
            a w (x + y + z - 2) & a < 0\\
            a [ (1 - w) (1 - x - y - z) +%%
            x y + y z + x z] & a > 0
        \end{array} \right.
    \end{align*}
\end{frame}

\subsection{Redução por substituição}
\begin{frame}{Redução por substituição\cite{dwave:2016}}
    A técnica consiste em escrever a restrição $z \iff x \wedge y$ como
    $$P(x, y; w) = x y - 2 ( x + y ) w + 3w$$

    Em seguida, escrevemos
    $$x y z = \min_{w} \set{w z + \alpha P(x, y, w)}$$
    onde $\alpha > 1$ é uma constante de penalidade.
\end{frame}

\section{Referências}
\begin{frame}%%[allowframebreaks]%%
    {Referências}

    \begin{thebibliography}{}

        % Article is the default.
        \setbeamertemplate{bibliography item}[article]

        \bibitem{glover:2016}
        Fred Glover, Gary Kochenberger, Yu Du
        \newblock \emph{Quantum Bridge Analytics I: A Tutorial on Formulating and Using QUBO Models.}
        % \newblock \emph{Optimization Letters}.
        % \newblock Springer-Verlag, 2011.

        % \setbeamertemplate{bibliography item}[book]

        % \bibitem{luenberger:2008}
        % David G. Luenberger, Yiniu Ye
        % \newblock \emph{Linear and Nonlinear Programming}
        % \newblock Springer-Verlag, 2008.


        \setbeamertemplate{bibliography item}[online]

        \bibitem{dwave:2016}
        D-Wave Systems
        \newblock \emph{Problem-Solving Handbook}
        \newblock \url{https://docs.dwavesys.com/docs/latest/c_handbook_3.html}

        \setbeamertemplate{bibliography item}[article]

        \bibitem{boros:2002}
        Endre Boros, Peter L. Hammer
        \newblock \emph{Pseudo-Boolean optimization}
        \newblock Elsevier, Discrete Applied Mathematics, 2002.
    \end{thebibliography}
\end{frame}

\end{document}
